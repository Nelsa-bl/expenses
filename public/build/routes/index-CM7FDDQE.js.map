{
  "version": 3,
  "sources": ["browser-route-module:C:\\Users\\Sanel\\Desktop\\alesco-tech-task\\app\\routes\\index.tsx?browser", "../../../app/routes/index.tsx", "../../../app/config.ts"],
  "sourcesContent": ["export { default } from \"C:\\\\Users\\\\Sanel\\\\Desktop\\\\alesco-tech-task\\\\app\\\\routes\\\\index.tsx\";", "import { useEffect, useState } from \"react\";\n\n// Import API_URL\nimport { API_URL } from \"~/config\";\n\nexport default function Index() {\n  const [expenses, setExpenses] = useState([]);\n  const [favorites, setFavorites] = useState([]);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [totalExpenses, setTotalExpenses] = useState(0);\n  const [showFavorites, setShowFavorites] = useState(false);\n\n  // Get API data\n  useEffect(() => {\n    const getExpensesMap = async () => {\n      try {\n        setIsLoading(true);\n        const getExpensesFromAPI = await fetch(API_URL);\n        if (!getExpensesFromAPI.ok) {\n          throw new Error(\n            `Problem getting products. Status: ${getExpensesFromAPI.status}`\n          );\n        }\n        const data = await getExpensesFromAPI.json();\n        setIsLoading(false);\n        setExpenses(data.items);\n      } catch (err) {\n        // If error then show message\n        let message;\n        if (err instanceof Error) message = err.message;\n        else message = String(err);\n        reportError({ message });\n      }\n    };\n    getExpensesMap();\n  }, []);\n\n  // Calculate the Gross\n  const calcGross = (net, tax) => {\n    return Number(net) + Number(tax);\n  };\n\n  // Calculate the total\n  const calcTotal = expenses.reduce((sum, exp) => {\n    const total = sum + calcGross(exp.net, exp.tax);\n    return total;\n  }, 0);\n\n  // Format currency\n  const formatCurrency = (value) =>\n    new Intl.NumberFormat(\"de-DE\", {\n      style: \"currency\",\n      currency: \"EUR\",\n    }).format(value);\n\n  const isFavorite = (id) => favorites.some((expense) => expense.id === id);\n\n  const toggleFavorite = (id) => {\n    const expenseIndex = expenses.findIndex((expense) => expense.id === id);\n    const favoriteIndex = favorites.findIndex((expense) => expense.id === id);\n    if (favoriteIndex !== -1) {\n      setFavorites((prevFavorites) => {\n        const newFavorites = [...prevFavorites];\n        newFavorites.splice(favoriteIndex, 1);\n        return newFavorites;\n      });\n    } else if (expenseIndex !== -1) {\n      const expenseToAdd = expenses[expenseIndex];\n      setFavorites((prevFavorites) => [...prevFavorites, expenseToAdd]);\n    }\n  };\n\n  const filterExpenses = () => {\n    if (showFavorites) {\n      return expenses.filter((expense) => isFavorite(expense.id));\n    }\n    return expenses;\n  };\n\n  const filteredExpenses = filterExpenses();\n\n  return (\n    <>\n      <h1>Alasco HQ: Expense Tracking</h1>\n\n      <button onClick={() => setShowFavorites(false)}>Show all expenses</button>\n      <button onClick={() => setShowFavorites(true)}>Show favorites</button>\n\n      {filteredExpenses.map((expense) => (\n        <div key={expense.id} className=\"expenses-list\">\n          <h2>{expense.name}</h2>\n          <p>\n            Net:{\" \"}\n            {new Intl.NumberFormat(\"de-DE\", {\n              style: \"currency\",\n              currency: \"EUR\",\n            }).format(expense.net)}\n          </p>\n          <p>\n            Tax:{\" \"}\n            {new Intl.NumberFormat(\"de-DE\", {\n              style: \"currency\",\n              currency: \"EUR\",\n            }).format(expense.tax)}\n          </p>\n          <p>\n            Gross:{\" \"}\n            {new Intl.NumberFormat(\"de-DE\", {\n              style: \"currency\",\n              currency: \"EUR\",\n            }).format(calcGross(expense.net, expense.tax))}\n          </p>\n          <button onClick={() => toggleFavorite(expense.id)}>\n            {isFavorite(expense.id)\n              ? \"Remove from favorites\"\n              : \"Add to favorites\"}\n          </button>\n        </div>\n      ))}\n\n      <h3>\n        Total expenses:{\" \"}\n        {new Intl.NumberFormat(\"de-DE\", {\n          style: \"currency\",\n          currency: \"EUR\",\n        }).format(calcTotal)}\n      </h3>\n\n      {showFavorites && (\n        <>\n          <h2>Favorites</h2>\n          {favorites.map((expense) => (\n            <div key={expense.id} className=\"favorites-list\">\n              <h3>{expense.name}</h3>\n              <p>\n                Net:{\" \"}\n                {new Intl.NumberFormat(\"de-DE\", {\n                  style: \"currency\",\n                  currency: \"EUR\",\n                }).format(expense.net)}\n              </p>\n              <p>\n                Tax:{\" \"}\n                {new Intl.NumberFormat(\"de-DE\", {\n                  style: \"currency\",\n                  currency: \"EUR\",\n                }).format(expense.tax)}\n              </p>\n              <p>\n                Gross:{\" \"}\n                {new Intl.NumberFormat(\"de-DE\", {\n                  style: \"currency\",\n                  currency: \"EUR\",\n                }).format(calcGross(expense.net, expense.tax))}\n              </p>\n              <button onClick={() => toggleFavorite(expense.id)}>\n                Remove from favorites\n              </button>\n            </div>\n          ))}\n        </>\n      )}\n    </>\n  );\n}\n", "export const API_URL =\n  \"https://9tt010tdl0.execute-api.eu-central-1.amazonaws.com/prod\";\n"],
  "mappings": "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",
  "names": []
}
