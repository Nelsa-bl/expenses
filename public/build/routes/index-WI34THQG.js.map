{
  "version": 3,
  "sources": ["browser-route-module:C:\\Users\\Sanel\\Desktop\\alesco-tech-task\\app\\routes\\index.tsx?browser", "../../../app/routes/index.tsx", "../../../app/config.ts"],
  "sourcesContent": ["export { default } from \"C:\\\\Users\\\\Sanel\\\\Desktop\\\\alesco-tech-task\\\\app\\\\routes\\\\index.tsx\";", "import { useEffect, useState } from \"react\";\n\n// Import API_URL\nimport { API_URL } from \"~/config\";\n\nexport default function Index() {\n  const [expenses, setExpenses] = useState([]);\n  const [favorites, setFavorites] = useState([]);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [totalExpenses, setTotalExpenses] = useState(0);\n  const [showFavorites, setShowFavorites] = useState(false);\n\n  // Get API data\n  useEffect(() => {\n    const getExpensesMap = async () => {\n      try {\n        setIsLoading(true);\n        const getExpensesFromAPI = await fetch(API_URL);\n        if (!getExpensesFromAPI.ok) {\n          throw new Error(\n            `Problem getting products. Status: ${getExpensesFromAPI.status}`\n          );\n        }\n        const data = await getExpensesFromAPI.json();\n        setIsLoading(false);\n        setExpenses(data.items);\n      } catch (err) {\n        // If error then show message\n        let message;\n        if (err instanceof Error) message = err.message;\n        else message = String(err);\n        reportError({ message });\n      }\n    };\n    getExpensesMap();\n  }, []);\n\n  // Calculate the Gross\n  const calcGross = (net, tax) => {\n    return Number(net) + Number(tax);\n  };\n\n  // Calculate the total expenses\n  const calcTotalExpenses = (expenses) => {\n    return expenses.reduce((sum, expense) => {\n      const total = sum + calcGross(expense.net, expense.tax);\n      return total;\n    }, 0);\n  };\n\n  // Get total expenses for all expenses\n  const calcTotal = calcTotalExpenses(expenses);\n\n  // Get total expenses for favorites\n  const calcTotalFavorites = calcTotalExpenses(favorites);\n\n  // Format currency\n  const formatCurrency = (value) =>\n    new Intl.NumberFormat(\"de-DE\", {\n      style: \"currency\",\n      currency: \"EUR\",\n    }).format(value);\n\n  // Add Favourites\n  const addFavorite = (productToAdd) => {\n    setFavorites([...favorites, productToAdd]);\n  };\n\n  // Remove Favourite\n  const removeFavorite = (productToRemove) => {\n    setFavorites(\n      favorites.filter((favorite) => favorite.id !== productToRemove.id)\n    );\n  };\n\n  // Filter expenses by favorites\n  const filteredExpenses = showFavorites\n    ? expenses.filter((expense) =>\n        favorites.some((favorite) => favorite.id === expense.id)\n      )\n    : expenses;\n\n  // Render all expenses or favorites\n  const showExpense = (expenses) => {\n    return expenses.map((expense) => (\n      <div key={expense.id} className=\"expenses-list\">\n        <h2>{expense.name}</h2>\n        <p>Net: {formatCurrency(expense.net)}</p>\n        <p>Tax: {formatCurrency(expense.tax)}</p>\n        <p>Gross: {calcGross(expense.net, expense.tax)}</p>\n        <span\n          className=\"fav-icon\"\n          onClick={() => {\n            if (favorites.some((favorite) => favorite.id === expense.id)) {\n              removeFavorite(expense);\n            } else {\n              addFavorite(expense);\n            }\n          }}\n        >\n          {favorites.some((favorite) => favorite.id === expense.id)\n            ? \"\u2764\uFE0F\"\n            : \"\uD83E\uDD0D\"}\n        </span>\n      </div>\n    ));\n  };\n\n  return (\n    <>\n      <h1>Alasco HQ: Expense Tracking</h1>\n\n      <div>\n        <button onClick={() => setShowFavorites(false)}>All</button>\n        <button onClick={() => setShowFavorites(true)}>\n          Favorites ({favorites.length})\n        </button>\n      </div>\n\n      {isLoading ? (\n        <p>Loading...</p>\n      ) : (\n        <>\n          {showFavorites\n            ? showExpense(\n                expenses.filter((expense) =>\n                  favorites.some((favorite) => favorite.id === expense.id)\n                )\n              )\n            : showExpense(expenses)}\n\n          {showFavorites ? (\n            <h3>\n              Total expenses for favorites: {formatCurrency(calcTotalFavorites)}\n            </h3>\n          ) : (\n            <h3>Total expenses: {formatCurrency(calcTotal)}</h3>\n          )}\n        </>\n      )}\n    </>\n  );\n}\n", "export const API_URL =\n  \"https://9tt010tdl0.execute-api.eu-central-1.amazonaws.com/prod\";\n"],
  "mappings": ";;;;;;;;AAAA;;;ACAA;AAAA,mBAAoC;;;ACApC;AAAO,IAAM,UACX;;;ADIa,iBAAiB;AAC9B,QAAM,CAAC,UAAU,eAAe,2BAAS;AACzC,QAAM,CAAC,WAAW,gBAAgB,2BAAS;AAC3C,QAAM,CAAC,WAAW,gBAAgB,2BAAkB;AACpD,QAAM,CAAC,eAAe,oBAAoB,2BAAS;AACnD,QAAM,CAAC,eAAe,oBAAoB,2BAAS;AAGnD,8BAAU,MAAM;AACd,UAAM,iBAAiB,YAAY;AACjC,UAAI;AACF,qBAAa;AACb,cAAM,qBAAqB,MAAM,MAAM;AACvC,YAAI,CAAC,mBAAmB,IAAI;AAC1B,gBAAM,IAAI,MACR,qCAAqC,mBAAmB;AAAA;AAG5D,cAAM,OAAO,MAAM,mBAAmB;AACtC,qBAAa;AACb,oBAAY,KAAK;AAAA,eACV,KAAP;AAEA,YAAI;AACJ,YAAI,eAAe;AAAO,oBAAU,IAAI;AAAA;AACnC,oBAAU,OAAO;AACtB,oBAAY,EAAE;AAAA;AAAA;AAGlB;AAAA,KACC;AAGH,QAAM,YAAY,CAAC,KAAK,QAAQ;AAC9B,WAAO,OAAO,OAAO,OAAO;AAAA;AAI9B,QAAM,oBAAoB,CAAC,cAAa;AACtC,WAAO,UAAS,OAAO,CAAC,KAAK,YAAY;AACvC,YAAM,QAAQ,MAAM,UAAU,QAAQ,KAAK,QAAQ;AACnD,aAAO;AAAA,OACN;AAAA;AAIL,QAAM,YAAY,kBAAkB;AAGpC,QAAM,qBAAqB,kBAAkB;AAG7C,QAAM,iBAAiB,CAAC,UACtB,IAAI,KAAK,aAAa,SAAS;AAAA,IAC7B,OAAO;AAAA,IACP,UAAU;AAAA,KACT,OAAO;AAGZ,QAAM,cAAc,CAAC,iBAAiB;AACpC,iBAAa,CAAC,GAAG,WAAW;AAAA;AAI9B,QAAM,iBAAiB,CAAC,oBAAoB;AAC1C,iBACE,UAAU,OAAO,CAAC,aAAa,SAAS,OAAO,gBAAgB;AAAA;AAKnE,QAAM,mBAAmB,gBACrB,SAAS,OAAO,CAAC,YACf,UAAU,KAAK,CAAC,aAAa,SAAS,OAAO,QAAQ,OAEvD;AAGJ,QAAM,cAAc,CAAC,cAAa;AAChC,WAAO,UAAS,IAAI,CAAC,YACnB,oCAAC,OAAD;AAAA,MAAK,KAAK,QAAQ;AAAA,MAAI,WAAU;AAAA,OAC9B,oCAAC,MAAD,MAAK,QAAQ,OACb,oCAAC,KAAD,MAAG,SAAM,eAAe,QAAQ,OAChC,oCAAC,KAAD,MAAG,SAAM,eAAe,QAAQ,OAChC,oCAAC,KAAD,MAAG,WAAQ,UAAU,QAAQ,KAAK,QAAQ,OAC1C,oCAAC,QAAD;AAAA,MACE,WAAU;AAAA,MACV,SAAS,MAAM;AACb,YAAI,UAAU,KAAK,CAAC,aAAa,SAAS,OAAO,QAAQ,KAAK;AAC5D,yBAAe;AAAA,eACV;AACL,sBAAY;AAAA;AAAA;AAAA,OAIf,UAAU,KAAK,CAAC,aAAa,SAAS,OAAO,QAAQ,MAClD,iBACA;AAAA;AAMZ,SACE,0DACE,oCAAC,MAAD,MAAI,gCAEJ,oCAAC,OAAD,MACE,oCAAC,UAAD;AAAA,IAAQ,SAAS,MAAM,iBAAiB;AAAA,KAAQ,QAChD,oCAAC,UAAD;AAAA,IAAQ,SAAS,MAAM,iBAAiB;AAAA,KAAO,eACjC,UAAU,QAAO,OAIhC,YACC,oCAAC,KAAD,MAAG,gBAEH,0DACG,gBACG,YACE,SAAS,OAAO,CAAC,YACf,UAAU,KAAK,CAAC,aAAa,SAAS,OAAO,QAAQ,QAGzD,YAAY,WAEf,gBACC,oCAAC,MAAD,MAAI,kCAC6B,eAAe,uBAGhD,oCAAC,MAAD,MAAI,oBAAiB,eAAe;AAAA;",
  "names": []
}
